(function(e){function t(t){for(var n,s,o=t[0],i=t[1],l=t[2],d=0,b=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&b.push(c[s][0]),c[s]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);u&&u(t);while(b.length)b.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,o=1;o<r.length;o++){var i=r[o];0!==c[i]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},c={app:0},a=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=i;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"01d7":function(e,t,r){},"1d81":function(e,t,r){},"3a55":function(e,t,r){"use strict";r("01d7")},4752:function(e,t,r){"use strict";r("1d81")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),c={id:"nav"},a=Object(n["g"])("Liste des utilisateurs"),s=Object(n["g"])(" | "),o=Object(n["g"])("Créer un utilisateur");function i(e,t){var r=Object(n["y"])("router-link"),i=Object(n["y"])("router-view");return Object(n["q"])(),Object(n["e"])(n["a"],null,[Object(n["h"])("div",c,[Object(n["h"])(r,{to:"/"},{default:Object(n["H"])((function(){return[a]})),_:1}),s,Object(n["h"])(r,{to:"/create"},{default:Object(n["H"])((function(){return[o]})),_:1})]),Object(n["h"])(i)],64)}r("4752");const l={};l.render=i;var u=l,d=r("6c02"),b=Object(n["J"])("data-v-099a009a");Object(n["t"])("data-v-099a009a");var h=Object(n["h"])("h1",null,"Créer un utilisateur",-1);Object(n["r"])();var p=b((function(e,t,r,c,a,s){var o=Object(n["y"])("Form");return Object(n["q"])(),Object(n["e"])(n["a"],null,[h,Object(n["h"])(o,{usage:"create"})],64)})),f=Object(n["J"])("data-v-61311248");Object(n["t"])("data-v-61311248");var j={key:0,class:"container"},O=Object(n["h"])("label",{for:"firstnameC"},"Prénom",-1),m=Object(n["h"])("label",{for:"lastnameC"},"Nom",-1),g=Object(n["h"])("label",{for:"emailC"},"Email",-1),v=Object(n["h"])("label",{for:"birthdateC"},"Date de naissance",-1),U=Object(n["h"])("label",{for:"avatarUrlC"},"Photo",-1),y=Object(n["h"])("label",{for:"genderC"},"Genre",-1),F=Object(n["h"])("option",{value:"male"},"Homme",-1),C=Object(n["h"])("option",{value:"female"},"Femmme",-1),w={key:1,class:"container"},D={class:"img-edit"},I=Object(n["h"])("label",{for:"firstname"},"Prénom",-1),k=Object(n["h"])("label",{for:"lastname"},"Nom",-1),q=Object(n["h"])("label",{for:"email"},"Email",-1),_=Object(n["h"])("label",{for:"birthdate"},"Date de naissance",-1),N=Object(n["h"])("label",{for:"avatarUrl"},"Photo",-1),x=Object(n["h"])("label",{for:"gender"},"Genre",-1),E=Object(n["h"])("option",{value:"male"},"Homme",-1),S=Object(n["h"])("option",{value:"female"},"Femmme",-1);Object(n["r"])();var V=f((function(e,t,r,c,a,s){return Object(n["q"])(),Object(n["e"])(n["a"],null,["create"===r.usage?(Object(n["q"])(),Object(n["e"])("div",j,[O,Object(n["I"])(Object(n["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.newUser.firstName=e}),type:"text",class:"form-control",id:"firstnameC",placeholder:"Insérez votre prénom"},null,512),[[n["E"],a.newUser.firstName]]),m,Object(n["I"])(Object(n["h"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.newUser.lastName=e}),type:"text",class:"form-control",id:"lastnameC",placeholder:"Insérez votre nom"},null,512),[[n["E"],a.newUser.lastName]]),g,Object(n["I"])(Object(n["h"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.newUser.email=e}),type:"email",class:"form-control",id:"emailC",placeholder:"Insérez votre email"},null,512),[[n["E"],a.newUser.email]]),v,Object(n["I"])(Object(n["h"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.newUser.birthDate=e}),type:"date",class:"form-control",id:"birthdateC"},null,512),[[n["E"],a.newUser.birthDate]]),U,Object(n["h"])("input",{id:"avatarUrlC",class:"form-control",type:"file",onChange:t[5]||(t[5]=function(){return s.onFileChange&&s.onFileChange.apply(s,arguments)})},null,32),y,Object(n["I"])(Object(n["h"])("select",{class:"form-select",id:"genderC","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.newUser.gender=e})},[F,C],512),[[n["D"],a.newUser.gender]]),Object(n["h"])("button",{type:"submit",class:"btn btn-success",onClick:t[7]||(t[7]=function(){return s.createUser&&s.createUser.apply(s,arguments)})},"Créer")])):Object(n["f"])("",!0),"edit"===r.usage?(Object(n["q"])(),Object(n["e"])("div",w,[Object(n["h"])("div",D,[Object(n["h"])("img",{src:"http://localhost:6929".concat(a.updateUser.avatarUrl)},null,8,["src"])]),I,Object(n["I"])(Object(n["h"])("input",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return a.updateUser.firstName=e}),type:"text",class:"form-control",id:"firstname",placeholder:"Insérez votre prénom"},null,512),[[n["E"],a.updateUser.firstName]]),k,Object(n["I"])(Object(n["h"])("input",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return a.updateUser.lastName=e}),type:"text",class:"form-control",id:"lastname",placeholder:"Insérez votre nom"},null,512),[[n["E"],a.updateUser.lastName]]),q,Object(n["I"])(Object(n["h"])("input",{"onUpdate:modelValue":t[10]||(t[10]=function(e){return a.updateUser.email=e}),type:"email",class:"form-control",id:"email",placeholder:"Insérez votre email"},null,512),[[n["E"],a.updateUser.email]]),_,Object(n["I"])(Object(n["h"])("input",{"onUpdate:modelValue":t[11]||(t[11]=function(e){return a.updateUser.birthDate=e}),type:"date",class:"form-control",id:"birthdate"},null,512),[[n["E"],a.updateUser.birthDate]]),N,Object(n["h"])("input",{id:"avatarUrl",class:"form-control",type:"file",onChange:t[12]||(t[12]=function(){return s.onFileChange&&s.onFileChange.apply(s,arguments)})},null,32),x,Object(n["I"])(Object(n["h"])("select",{class:"form-select",id:"gender","onUpdate:modelValue":t[13]||(t[13]=function(e){return a.updateUser.gender=e})},[E,S],512),[[n["D"],a.updateUser.gender]]),Object(n["h"])("button",{type:"submit",class:"btn btn-success",onClick:t[14]||(t[14]=function(){return s.editUser&&s.editUser.apply(s,arguments)})},"Editer")])):Object(n["f"])("",!0)],64)})),P=r("bc3a"),A=r.n(P),$={name:"Form",props:{user:Object,usage:String},data:function(){return{newUser:{},updateUser:{},selectedFile:""}},methods:{onFileChange:function(e){this.selectedFile=e.target.files[0]},createUser:function(){var e=this,t=new FormData;t.append("file",this.selectedFile),t.append("firstName",this.newUser.firstName),t.append("lastName",this.newUser.lastName),t.append("email",this.newUser.email),t.append("birthDate",this.newUser.birthDate),t.append("gender",this.newUser.gender),A.a.post("http://localhost:6929/users",t).then((function(t){console.log(t),e.$toast.success("Création de l'utilisateur réussie ! Vous allez être redirigé.",{position:"bottom"}),setTimeout((function(){e.$router.go(-1)}),4e3)})).catch((function(){e.$toast.error("Cet email est déjà utilisé",{position:"bottom"})}))},editUser:function(){var e=this;A.a.put("http://localhost:6929/users/".concat(this.updateUser.id),this.updateUser).then((function(){e.$toast.success("Modification de l'utilisateur réussie ! Vous allez être redirigé.",{position:"bottom"}),setTimeout((function(){e.$router.go(-1)}),4e3)}))}},watch:{user:function(){this.updateUser=this.user}}};r("68a2");$.render=V,$.__scopeId="data-v-61311248";var z=$,T={name:"CreateUser",components:{Form:z}};T.render=p,T.__scopeId="data-v-099a009a";var J=T,H=(r("caad"),r("2532"),r("841c"),r("ac1f"),Object(n["J"])("data-v-22d4b5a5"));Object(n["t"])("data-v-22d4b5a5");var M={class:"headt"},R=Object(n["g"])(" Hommes "),Q=Object(n["g"])(" Femmes "),L=Object(n["g"])(" Rechercher : "),B=Object(n["g"])(" Trier par âge : "),G={key:0},K={key:1},W={key:2},X={key:0},Y=Object(n["g"])("Il y a "),Z={key:1},ee=Object(n["g"])("Il y a "),te=Object(n["h"])("strong",null,"0",-1);Object(n["r"])();var re=H((function(e,t,r,c,a,s){var o=Object(n["y"])("TableUsers");return Object(n["q"])(),Object(n["e"])(n["a"],null,[Object(n["h"])("div",M,[Object(n["h"])("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=function(){return s.fetchUsers&&s.fetchUsers.apply(s,arguments)})},"Récupérer des utilisateurs"),Object(n["h"])("label",null,[Object(n["I"])(Object(n["h"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.genderFilter=e}),type:"checkbox",value:"male",disabled:a.genderFilter.length<2&&a.genderFilter.includes("male")},null,8,["disabled"]),[[n["C"],a.genderFilter]]),R]),Object(n["h"])("label",null,[Object(n["I"])(Object(n["h"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.genderFilter=e}),type:"checkbox",value:"female",disabled:a.genderFilter.length<2&&a.genderFilter.includes("female")},null,8,["disabled"]),[[n["C"],a.genderFilter]]),Q]),Object(n["h"])("label",null,[L,Object(n["I"])(Object(n["h"])("input",{type:"search","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.search=e}),placeholder:"Rechercher"},null,512),[[n["E"],a.search]])]),Object(n["h"])("button",{class:"btn btn-primary",onClick:t[5]||(t[5]=function(){return s.resetFilter&&s.resetFilter.apply(s,arguments)})},"Reset"),Object(n["h"])("label",null,[B,""===a.sortDirection?(Object(n["q"])(),Object(n["e"])("p",G,"Par défaut")):Object(n["f"])("",!0),"asc"===a.sortDirection?(Object(n["q"])(),Object(n["e"])("p",K,"Croissant")):Object(n["f"])("",!0),"desc"===a.sortDirection?(Object(n["q"])(),Object(n["e"])("p",W,"Décroissant")):Object(n["f"])("",!0)])]),s.usersFiltered.length?(Object(n["q"])(),Object(n["e"])("p",X,[Y,Object(n["h"])("strong",null,Object(n["A"])(s.usersFiltered.length),1),Object(n["g"])(" utilisateurs sur "+Object(n["A"])(a.users.length),1)])):(Object(n["q"])(),Object(n["e"])("p",Z,[ee,te,Object(n["g"])(" utilisateur sur "+Object(n["A"])(a.users.length),1)])),Object(n["h"])(o,{usersFiltered:s.usersFiltered,sortDirection:a.sortDirection,changeSort:s.changeSort},null,8,["usersFiltered","sortDirection","changeSort"])],64)})),ne=(r("1276"),r("4d63"),r("25f0"),r("4de4"),r("466d"),r("99af"),r("a15b"),Object(n["J"])("data-v-5cba9cc6"));Object(n["t"])("data-v-5cba9cc6");var ce={key:0,id:"tbl-users",class:"table table-hover"},ae=Object(n["h"])("th",null,"Photo",-1),se=Object(n["h"])("th",null,"Nom",-1),oe=Object(n["h"])("th",null,"Prénom",-1),ie=Object(n["h"])("th",null,"Email",-1),le=Object(n["g"])(" Age "),ue=Object(n["h"])("th",null,"Supprimer",-1),de={class:"td-text"},be={class:"td-text"},he={class:"td-text"},pe={class:"td-text"},fe={class:"td-icon"};Object(n["r"])();var je=ne((function(e,t,r,c,a,s){var o=Object(n["y"])("router-link"),i=Object(n["y"])("font-awesome-icon");return r.usersFiltered.length?(Object(n["q"])(),Object(n["e"])("table",ce,[Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[ae,se,oe,ie,Object(n["h"])("th",{onClick:t[1]||(t[1]=function(){return r.changeSort&&r.changeSort.apply(r,arguments)})},[le,r.sortDirection?(Object(n["q"])(),Object(n["e"])("i",{key:0,class:["fa",["asc"===r.sortDirection?"fa-sort-up":"fa-sort-down"]]},null,2)):Object(n["f"])("",!0)]),ue])]),Object(n["h"])("tbody",null,[(Object(n["q"])(!0),Object(n["e"])(n["a"],null,Object(n["x"])(a.users,(function(e){return Object(n["q"])(),Object(n["e"])("tr",{key:e},[Object(n["h"])("td",null,[Object(n["h"])(o,{to:{name:"EditUser",params:{id:e.id,user:e}}},{default:ne((function(){return[Object(n["h"])("img",{src:"http://localhost:6929".concat(e.avatarUrl)},null,8,["src"])]})),_:2},1032,["to"])]),Object(n["h"])("td",de,[Object(n["h"])(o,{to:{name:"EditUser",params:{id:e.id,user:e}}},{default:ne((function(){return[Object(n["g"])(Object(n["A"])(e.lastName),1)]})),_:2},1032,["to"])]),Object(n["h"])("td",be,Object(n["A"])(e.firstName),1),Object(n["h"])("td",he,Object(n["A"])(e.email),1),Object(n["h"])("td",pe,Object(n["A"])(e.age),1),Object(n["h"])("td",fe,[Object(n["h"])(i,{icon:a.deleteIcon,size:"lg",onClick:function(t){return s.deleteUser(e.id)},class:"icon"},null,8,["icon","onClick"])])])})),128))])])):Object(n["f"])("",!0)})),Oe=r("c074"),me=r("ad3d"),ge={name:"TableUsers",props:{usersFiltered:Array,genderFilter:Array,search:String,sortDirection:String,changeSort:Function},data:function(){return{deleteIcon:Oe["a"],users:[]}},components:{FontAwesomeIcon:me["a"]},watch:{changeSort:function(){this.$parent.changeSort()},usersFiltered:function(){this.users=this.usersFiltered}},methods:{deleteUser:function(e){var t=this;console.log(e),A.a.delete("http://localhost:6929/users/".concat(e)).then((function(){t.$toast.success("Utilisateur supprimé !",{position:"bottom"}),setTimeout((function(){t.$router.go(0)}),2e3)}))}}};r("3a55");ge.render=je,ge.__scopeId="data-v-5cba9cc6";var ve=ge,Ue={name:"ListUsers",components:{TableUsers:ve},data:function(){return{users:[],genderFilter:(this.$route.query.gender||"male,female").split(","),search:this.$route.query.search||"",sortDirection:this.$route.query.sortAge||""}},computed:{usersFiltered:function(){var e=this,t=new RegExp(this.search,"i");return this.users.filter((function(t){return e.genderFilter.includes(t.gender)})).filter((function(e){return e.lastName.match(t)||e.firstName.match(t)})).sort((function(t,r){if(!e.sortDirection)return 0;var n="desc"===e.sortDirection?-1:1;return(t.age-r.age)*n}))}},methods:{fetchUsers:function(){var e=this;A.a.get("http://localhost:6929/users").then((function(t){return e.users=e.users.concat(t.data)}))},updateQuery:function(){var e={};this.genderFilter.length<2&&(e.gender=this.genderFilter.join(",")),this.search&&(e.search=this.search),this.sortDirection&&(e.sortAge=this.sortDirection),this.$router.push({query:e})},changeSort:function(){""===this.sortDirection?this.sortDirection="asc":"asc"===this.sortDirection?this.sortDirection="desc":"desc"===this.sortDirection&&(this.sortDirection="")},resetFilter:function(){this.genderFilter=["male","female"],this.search="",this.sortDirection=""}},watch:{search:function(){this.updateQuery()},sortDirection:function(){this.updateQuery()},genderFilter:function(){this.updateQuery()}},created:function(){this.fetchUsers()}};r("e34c");Ue.render=re,Ue.__scopeId="data-v-22d4b5a5";var ye=Ue,Fe=Object(n["J"])("data-v-709acb72"),Ce=Fe((function(e,t,r,c,a,s){var o=Object(n["y"])("Form");return Object(n["q"])(),Object(n["e"])(o,{usage:"edit",user:a.user},null,8,["user"])})),we={name:"EditUser",components:{Form:z},data:function(){return{user:{}}},methods:{getUserById:function(){var e=this;A.a.get("http://localhost:6929/users/".concat(this.$route.params.id)).then((function(t){return e.user=t.data}))}},created:function(){this.getUserById()}};we.render=Ce,we.__scopeId="data-v-709acb72";var De=we,Ie=[{path:"/",name:"ListUsers",component:ye},{path:"/create",name:"CreateUser",component:J},{path:"/users/:id",name:"EditUser",component:De}],ke=Object(d["a"])({history:Object(d["b"])(),routes:Ie}),qe=ke,_e=(r("ab8b"),r("7b17"),r("af56"));Object(n["d"])(u).use(qe).use(_e["a"]).mount("#app")},"68a2":function(e,t,r){"use strict";r("7429")},7429:function(e,t,r){},"96f2":function(e,t,r){},e34c:function(e,t,r){"use strict";r("96f2")}});
//# sourceMappingURL=app.ff32a012.js.map